angular.module("DeepDev.services").service("server",["$http","$q","$rootScope","$location","$window",function(n,t,i,r,u){function w(n,t){var i=n[0],r=n[1],u=n[2],f=n[3];i=e(i,r,u,f,t[0],7,-680876936);f=e(f,i,r,u,t[1],12,-389564586);u=e(u,f,i,r,t[2],17,606105819);r=e(r,u,f,i,t[3],22,-1044525330);i=e(i,r,u,f,t[4],7,-176418897);f=e(f,i,r,u,t[5],12,1200080426);u=e(u,f,i,r,t[6],17,-1473231341);r=e(r,u,f,i,t[7],22,-45705983);i=e(i,r,u,f,t[8],7,1770035416);f=e(f,i,r,u,t[9],12,-1958414417);u=e(u,f,i,r,t[10],17,-42063);r=e(r,u,f,i,t[11],22,-1990404162);i=e(i,r,u,f,t[12],7,1804603682);f=e(f,i,r,u,t[13],12,-40341101);u=e(u,f,i,r,t[14],17,-1502002290);r=e(r,u,f,i,t[15],22,1236535329);i=o(i,r,u,f,t[1],5,-165796510);f=o(f,i,r,u,t[6],9,-1069501632);u=o(u,f,i,r,t[11],14,643717713);r=o(r,u,f,i,t[0],20,-373897302);i=o(i,r,u,f,t[5],5,-701558691);f=o(f,i,r,u,t[10],9,38016083);u=o(u,f,i,r,t[15],14,-660478335);r=o(r,u,f,i,t[4],20,-405537848);i=o(i,r,u,f,t[9],5,568446438);f=o(f,i,r,u,t[14],9,-1019803690);u=o(u,f,i,r,t[3],14,-187363961);r=o(r,u,f,i,t[8],20,1163531501);i=o(i,r,u,f,t[13],5,-1444681467);f=o(f,i,r,u,t[2],9,-51403784);u=o(u,f,i,r,t[7],14,1735328473);r=o(r,u,f,i,t[12],20,-1926607734);i=s(i,r,u,f,t[5],4,-378558);f=s(f,i,r,u,t[8],11,-2022574463);u=s(u,f,i,r,t[11],16,1839030562);r=s(r,u,f,i,t[14],23,-35309556);i=s(i,r,u,f,t[1],4,-1530992060);f=s(f,i,r,u,t[4],11,1272893353);u=s(u,f,i,r,t[7],16,-155497632);r=s(r,u,f,i,t[10],23,-1094730640);i=s(i,r,u,f,t[13],4,681279174);f=s(f,i,r,u,t[0],11,-358537222);u=s(u,f,i,r,t[3],16,-722521979);r=s(r,u,f,i,t[6],23,76029189);i=s(i,r,u,f,t[9],4,-640364487);f=s(f,i,r,u,t[12],11,-421815835);u=s(u,f,i,r,t[15],16,530742520);r=s(r,u,f,i,t[2],23,-995338651);i=h(i,r,u,f,t[0],6,-198630844);f=h(f,i,r,u,t[7],10,1126891415);u=h(u,f,i,r,t[14],15,-1416354905);r=h(r,u,f,i,t[5],21,-57434055);i=h(i,r,u,f,t[12],6,1700485571);f=h(f,i,r,u,t[3],10,-1894986606);u=h(u,f,i,r,t[10],15,-1051523);r=h(r,u,f,i,t[1],21,-2054922799);i=h(i,r,u,f,t[8],6,1873313359);f=h(f,i,r,u,t[15],10,-30611744);u=h(u,f,i,r,t[6],15,-1560198380);r=h(r,u,f,i,t[13],21,1309151649);i=h(i,r,u,f,t[4],6,-145523070);f=h(f,i,r,u,t[11],10,-1120210379);u=h(u,f,i,r,t[2],15,718787259);r=h(r,u,f,i,t[9],21,-343485551);n[0]=c(i,n[0]);n[1]=c(r,n[1]);n[2]=c(u,n[2]);n[3]=c(f,n[3])}function a(n,t,i,r,u,f){return t=c(c(t,n),c(r,f)),c(t<<u|t>>>32-u,i)}function e(n,t,i,r,u,f,e){return a(t&i|~t&r,n,t,u,f,e)}function o(n,t,i,r,u,f,e){return a(t&r|i&~r,n,t,u,f,e)}function s(n,t,i,r,u,f,e){return a(t^i^r,n,t,u,f,e)}function h(n,t,i,r,u,f,e){return a(i^(t|~r),n,t,u,f,e)}function d(n){var u,r,t,i;for(txt="",u=n.length,r=[1732584193,-271733879,-1732584194,271733878],t=64;t<=n.length;t+=64)w(r,g(n.substring(t-64,t)));for(n=n.substring(t-64),i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n.length;t++)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(w(r,i),t=0;t<16;t++)i[t]=0;return i[14]=u*8,w(r,i),r}function g(n){for(var i=[],t=0;t<64;t+=4)i[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return i}function nt(n){for(var i="",t=0;t<4;t++)i+=k[n>>t*8+4&15]+k[n>>t*8&15];return i}function tt(n){for(var t=0;t<n.length;t++)n[t]=nt(n[t]);return n.join("")}function l(n){return tt(d(n))}function c(n,t){return n+t&4294967295}var v=t.defer(),y=t.defer(),p=function(){return u.localStorage},f=function(t,u,f,e,o,s,h){return o||(o="POST"),n({method:o,url:"/Server/api/"+t,data:u,timeout:v.promise,params:h,headers:{"Content-Type":"application/json"}}).success(function(n){i.entityRead=new Date;n.error===undefined&&!0?y.resolve(n):n.error!==undefined&&n.error=="not authenticated"?r.path("/").search({}):y.reject(n);f&&f(n,s)}).error(function(n,t){console.log(n);console.log(t);y.reject(n);t==401;e&&e(n,s)})},b=function(n){p().setItem("uibuilditUsername",n.Email);p().setItem("uibuilditPassword",n.Password)},k="0123456789abcdef".split("");if(l("hello")!="5d41402abc4b2a76b9719d911017c592"){function c(n,t){var i=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(i>>16);return r<<16|i&65535}}return{cancel:function(){v.resolve();v=t.defer()},login:function(n,t,i){return n.Name||(n.Name="temp name"),b(n),f("login",{Email:n.Email,Password:l(n.Email+"vrigar rules"+n.Password),Name:"temp name"},t,i)},resetPassword:function(n,t,i){return f("Recover",{email:n},t,i)},newPassword:function(n,t,i){return f("newPassword",{Email:n.Email,Password:l(n.Email+"vrigar rules"+n.Password),Name:n.Name},t,i)},logout:function(n,t,i){return f("logout",n,t,i)},signup:function(n,t,i){return b(n),n.Password=l(n.Email+"vrigar rules"+n.Password),f("signup",n,t,i)},updateUser:function(n,t,i){return console.log(n),n.Password=p().getItem("uibuilditPassword"),console.log(n),n.Password=l(n.Email+"vrigar rules"+n.Password),console.log(n),f("update",n,t,i)},commitProject:function(n,t,i){return f("project",n,t,i)},updateProject:function(n,t,i){return f("project",n,t,i,"PUT",null,null)},getProjects:function(n,t){return f("project",null,n,t,"GET")},getCollection:function(n,t,i,r,u){return console.log("Getting collection of type "+n),f(n,null,t,i,"GET",r,u)},getCollections:function(n,t){return console.log("Getting collections of type "),f("collections",null,n,t,"GET")},getEntity:function(n,t,i,r){return f(r,null,t,i,"GET",null,n)},updateEntity:function(n,t,i,r){return f(r,n,t,i,"PUT",null,null)},deleteEntity:function(n,t,i,r){return f(r,n,t,i,"DELETE",null,null)},commitEntity:function(n,t,i,r){return f(r,n,t,i)},getXForY:function(n,t,i,r,u){return f(n+"For"+t,null,r,u,"GET",null,i)}}}]);
/*
//# sourceMappingURL=Server.min.js.map
*/