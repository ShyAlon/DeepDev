"use strict";function templateHelper(n){var t=n[0].innerHTML;return t.replace(/[\r\n]/g,"").replace(/"/g,'\\"').replace(/\{\{task\.([^\}]+)\}\}/g,function(n,t){if(t.indexOf("|")!=-1){var i=t.split("|");return"\"+gantt.aFilter('"+i[1].trim()+"')(task."+i[0].trim()+')+"'}return'"+task.'+t+'+"'})}function setScaleConfig(n){switch(n){case"1":gantt.config.scale_unit="day";gantt.config.step=1;gantt.config.date_scale="%d %M";gantt.config.subscales=[];gantt.config.scale_height=27;gantt.templates.date_scale=null;break;case"2":var t=function(n){var t=gantt.date.date_to_str("%d %M"),i=gantt.date.add(gantt.date.add(n,1,"week"),-1,"day");return t(n)+" - "+t(i)};gantt.config.scale_unit="week";gantt.config.step=1;gantt.templates.date_scale=t;gantt.config.subscales=[{unit:"day",step:1,date:"%D"}];gantt.config.scale_height=50;break;case"3":gantt.config.scale_unit="month";gantt.config.date_scale="%F, %Y";gantt.config.subscales=[{unit:"day",step:1,date:"%j, %D"}];gantt.config.scale_height=50;gantt.templates.date_scale=null;break;case"4":gantt.config.scale_unit="year";gantt.config.step=1;gantt.config.date_scale="%Y";gantt.config.min_column_width=50;gantt.config.scale_height=90;gantt.templates.date_scale=null;gantt.config.subscales=[{unit:"month",step:1,date:"%M"}]}}angular.module("DeepDev.directives").directive("appVersion",["version",function(n){return function(t,i){i.text(n)}}]).directive("vbox",function(){return{link:function(n,t,i){i.$observe("vbox",function(n){t.attr("viewBox",n)})}}}).directive("saveButton",["$http",function(){return{scope:!1,restrict:"EA",link:function(){},template:'<span><button class="btn btn-lg btn-success" href="#" ng-click="save()" ng-disabled="generalForm.$invalid || !$root.canEdit" onclick="return false;" role="button" id="saveButton" bs-tooltip="buttonTooltip(\'save\')" placement="auto" >Save<\/button><\/span>'}}]).directive("duplicateButton",["$http",function(){return{scope:!1,restrict:"EA",link:function(){},template:'<span><button class="btn btn-lg btn-success" href="#" ng-click="duplicate()" ng-disabled="generalForm.$invalid || !$root.canEdit" onclick="return false;" role="button" id="duplicateButton" bs-tooltip="buttonTooltip(\'duplicate\')" placement="auto">Duplicate<\/button><\/span>'}}]).directive("deleteButton",["$http",function(){return{scope:!1,restrict:"EA",link:function(){},template:'<span><button class="btn btn-lg btn-danger" href="#" ng-click="delete()" ng-disabled="!$root.wizardItem" onclick="return false;" role="button" id="deleteButton" bs-tooltip="buttonTooltip(\'delete\')" placement="auto">Delete<\/button><\/span>'}}]).directive("addTaskButton",["$http",function(){return{scope:!1,restrict:"EA",link:function(){},template:'<span><button class="btn btn-lg btn-success" href="#" ng-click="addTask()" ng-disabled="generalForm.$invalid || !$root.canEdit" onclick="return false;" role="button" id="taskButton" bs-tooltip="buttonTooltip(\'task\')" placement="auto">Add Task<\/button><\/span>'}}]).directive("addNoteButton",["$http",function(){return{scope:!1,restrict:"EA",link:function(){},template:'<span><button class="btn btn-lg btn-success" href="#" ng-click="addNote()" ng-disabled="generalForm.$invalid || !$root.canEdit" onclick="return false;" role="button" id="noteButton" bs-tooltip="buttonTooltip(\'note\')" placement="auto">Add Note<\/button><\/span>'}}]).directive("addButton",["$http",function(){return{scope:!1,restrict:"EA",link:function(){},templateUrl:"./partials/blocks/addButton.html"}}]).directive("project",["$http",function(){return{scope:!1,restrict:"EA",link:function(){},templateUrl:"./partials/document/project.html"}}]).directive("sequence",["$http",function(){return{scope:!1,restrict:"EA",link:function(){},templateUrl:"./partials/blocks/sequence.html"}}]).directive("pairs",["$http",function(){return{scope:{item:"=",hideRemove:"="},restrict:"EA",link:function(){},templateUrl:"./partials/document/pairs.html"}}]).directive("wizardPage",["$http",function(){return{scope:!1,restrict:"EA",link:function(n,t,i){n.contentUrl="./partials/wizard/"+i.wizardPage+".html";i.$observe("wizardPage",function(t){n.contentUrl="./partials/wizard/"+t+".html"})},template:'<div ng-include="contentUrl"><\/div>'}}]).directive("children",["$http",function(){return{scope:!1,transclude:!0,restrict:"EA",templateUrl:function(){return"./partials/blocks/children.html"},link:function(){}}}]).directive("block",["$http",function(){return{scope:{item:"=",entityType:"=",data:"=",onButton:"&",onEdit:"&",onAdd:"&",onRemove:"&",onReplace:"&",getStatus:"&",hideRemove:"="},transclude:!0,restrict:"EA",templateUrl:function(n,t){return"./partials/blocks/"+t.type+".html"},link:function(){}}}]).directive("document",["$http",function(){return{scope:!1,restrict:"EA",link:function(n,t,i){n.contentUrl="./partials/documents/"+i.document+".html";i.$observe("document",function(t){n.contentUrl="./partials/documents/"+t+".html"})},template:'<div ng-include="contentUrl"><\/div>'}}]).directive("numbersOnly",function(){return{require:"ngModel",link:function(n,t,i,r){r.$parsers.push(function(n){if(n==undefined)return"";var t=n.replace(/[^0-9]/g,"");return t!=n&&(r.$setViewValue(t),r.$render()),t})}}}).directive("contentItem",["$compile","$rootScope",function(n){var t='<u><hsetHeaderSize class="document" id="setId" ng-click="onButton()"><span>*setLink*<\/span><\/hsetHeaderSize><\/u>&nbsp<i ng-hide="$root.hideIcons" ng-class="{\'fa fa-expand \': onEdit(), \'fa fa-compress \': !onEdit()}"><\/i>',i=function(n){var t,i;if(!n||n.length==0)return"";for(t=n[0],i=1;i<n.length;i++)t=t+".",t=t+n[i];return t},r=function(r,u,f){r.$watch(f.dynamic,function(){var e,f,o;r.item&&(e=function(){function n(n){var t=(Math.random().toString(16)+"000000000").substr(2,8);return n?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return n()+n(!0)+n(!0)+n()},f=t,r.item.Entity&&(r.IndexString=i(r.item.Entity.Index)),console.log(r.item),r.item.ParentType&&r.item.Type?(o="<a a-disabled='$root.passiveHeaders' ng-href='#/Edit/:"+r.item.Type.toLowerCase()+"/:"+r.item.Entity.ParentId+"/:"+r.item.Entity.Id+"'>{{IndexString}} {{item.Entity.Name | ordinal}}<\/a>",f=f.replace("*setLink*",o)):f=r.item.Entity?f.replace("*setLink*","{{item.Entity.Name | ordinal}}"):f.replace("*setLink*","{{item.Type | ordinal}}"),r.item=r.item||1,f=f.replace("setHeaderSize",r.item.size),f=f.replace("setTitle",r.item.staticTitle),f=f.replace("setCount",r.item.count),f=f.replace("setId",e()),r.item.Type!="UseCaseAction"&&(r.item.Type!="Method"||r.content)?u.html(f):u.html("<div><\/div>"),n(u.contents())(r))})};return{restrict:"EA",rep1ace:!0,link:r,transclude:!0,scope:{content:"=",item:"=",onButton:"&",onEdit:"&",getStatus:"&",hideIcons:"=",header:"="}}}]).factory("RecursionHelper",["$compile",function(n){return{compile:function(t,i){angular.isFunction(i)&&(i={post:i});var u=t.contents().remove(),r;return{pre:i&&i.pre?i.pre:null,post:function(t,f){r||(r=n(u));r(t,function(n){f.append(n)});i&&i.post&&i.post.apply(null,arguments)}}}}}]).directive("documentChildren",["$http","RecursionHelper",function(n,t){return{scope:{data:"=",header:"=",type:"="},restrict:"EA",compile:function(n){return t.compile(n,function(n,t,i){n.contentUrl="./partials/document/documentChildren.html";i.$observe("type",function(t){if(n.data&&t&&(n.data.Type=="UseCase"||n.data.Type=="Parameter"||n.data.Type=="UseCaseAction"||n.data.Type=="Note"||n.data.Type=="Method"||n.data.Type=="Task"||n.data.Type=="Issue"||n.data.Type=="Requirement")){var i="./partials/document/"+n.data.Type.toLowerCase()+".html";n.contentUrl=i}})})},template:'<div ng-include="contentUrl"><\/div>'}}]).directive("scrollTo",["ScrollTo",function(n){return{restrict:"AC",compile:function(){return function(t,i,r){i.bind("click",function(){n.idOrName(r.scrollTo,r.offset)})}}}}]).directive("aDisabled",function(){return{compile:function(n,t){return t.ngClick="!("+t.aDisabled+") && ("+t.ngClick+")",function(n,t,i){n.$watch(i.aDisabled,function(n){n!==undefined&&t.toggleClass("disabled",n)});t.on("click",function(t){n.$eval(i.aDisabled)&&t.preventDefault()})}}}}).directive("tree",["$compile",function(n){return{restrict:"E",transclude:!0,scope:{family:"="},template:'<ul class="nopadding" style="margin-left:5px;list-style: none;"><li ng-transclude><\/li><li ng-repeat="child in family.nodes"><tree family="child" ng-show="!family.collapsed"><div ng-transclude><\/div><\/tree><\/li><\/ul>',compile:function(t,i,r){var f=t.contents().remove(),u;return function(t,i){u||(u=n(f,r));u(t,function(n){i.append(n)})}}}}]).directive("dhxGantt",function(){return{restrict:"A",scope:!1,transclude:!0,template:"<div ng-transclude><\/div>",link:function(n,t,i){var f,e,u,r;for(n.$watch(i.data,function(n){gantt.clearAll();gantt.parse(n,"json")},!0),n.$watch(function(){return t[0].offsetWidth+"."+t[0].offsetHeight},function(){gantt.setSizes()}),gantt.config.work_time=!0,gantt.config.scale_unit="day",gantt.config.date_scale="%D, %d",gantt.config.min_column_width=60,gantt.config.duration_unit="day",gantt.config.scale_height=60,gantt.config.row_height=30,f=function(n){var t=gantt.date.date_to_str("%d %M"),i=gantt.date.date_to_str("(week %W)"),r=gantt.date.add(gantt.date.add(n,1,"week"),-1,"day");return t(n)+" - "+t(r)+" "+i(n)},gantt.config.subscales=[{unit:"month",step:1,date:"%F, %Y"},{unit:"week",step:1,template:f}],gantt.templates.task_cell_class=function(n,t){return gantt.isWorkTime(t)?"":"week_end"},setScaleConfig("1"),e=function(n){n=n||window.event;var t=n.target||n.srcElement,i=t.value;setScaleConfig(i);gantt.render()},u=document.getElementsByName("scale"),r=0;r<u.length;r++)u[r].onclick=e;gantt.config.readonly=!0;gantt.init(t[0])}}}).directive("ganttTemplate",["$filter",function(n){return gantt.aFilter=n,{restrict:"AE",terminal:!0,link:function(n,t,i){var r=Function("sd","ed","task",'return "'+templateHelper(t)+'"');gantt.templates[i.ganttTemplate]=r}}}]).directive("ganttColumn",["$filter",function(n){return gantt.aFilter=n,{restrict:"AE",terminal:!0,link:function(n,t,i){var u=i.label||" ",f=i.width||"*",e=i.align||"left",o=Function("task",'return "'+templateHelper(t)+'"'),r={template:o,label:u,width:f,align:e};gantt.config.columnsSet||(gantt.config.columnsSet=gantt.config.columns=[]);gantt.config.columns.length||(r.tree=!0);gantt.config.columns.push(r)}}}]).directive("ganttColumnAdd",["$filter",function(){return{restrict:"AE",terminal:!0,link:function(){gantt.config.columns.push({width:45,name:"add"})}}}]);
/*
//# sourceMappingURL=directives.min.js.map
*/